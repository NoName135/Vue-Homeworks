import{_ as f,m,e as u,f as _,l as C,c as n,a as t,F as p,n as y,h as d,t as a,b as k,r as h,o,q as v,d as l}from"./index-6cbd601c.js";const B={methods:{...m(u,["getCart","deleteCart","updateCart"])},computed:{..._(C,["loadings","isLoading"]),..._(u,["cart"])},mounted(){this.getCart()}},$=t("h4",{class:"text-center"},"這裡是 前台 購物車",-1),w={class:"text-end"},N=["disabled"],S={class:"table align-middle"},V=t("thead",null,[t("tr",null,[t("th"),t("th",null,"品名"),t("th",{style:{width:"150px"}},"數量/單位"),t("th",{class:"ps-5"},"單價"),t("th",null,"小計")])],-1),x=["disabled","onClick"],I={key:0,class:"text-success"},q={class:"input-group input-group-sm"},F={class:"input-group"},L=["disabled","value","onBlur"],j={class:"input-group-text",id:"basic-addon2"},A={class:"ps-5"},D={class:"text-end"},E={key:0,class:"text-success"},T=t("td",{colspan:"4",class:"text-end"},"總計",-1),z={class:"text-end"},G={key:0},H=t("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),J={class:"text-end text-success"},K={class:"my-5 row justify-content-center"};function M(s,r,O,P,Q,R){var c;const g=h("font-awesome-icon"),b=h("order-form");return o(),n(p,null,[$,t("div",w,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:!((c=s.cart.carts)!=null&&c.length),onClick:r[0]||(r[0]=e=>s.deleteCart())},"清空購物車",8,N)]),t("table",S,[V,t("tbody",null,[s.cart.carts?(o(!0),n(p,{key:0},y(s.cart.carts,e=>(o(),n("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:e.id===s.loadings.loadingCartId,onClick:i=>s.deleteCart(e.id)},[e.id===s.loadings.loadingCartId?(o(),v(g,{key:0,icon:["fas","spinner"],spin:""})):d("",!0),l(" x ")],8,x)]),t("td",null,[l(a(e.product.title)+" ",1),e.coupon?(o(),n("div",I," 已套用優惠券 ")):d("",!0)]),t("td",null,[t("div",q,[t("div",F,[t("input",{min:"1",type:"number",class:"form-control",disabled:e.id===s.loadings.loadingCartId,value:e.qty,onBlur:i=>s.updateCart(e,i.target.value)},null,40,L),t("span",j,a(e.product.unit),1)])])]),t("td",A,a(e.product.price),1),t("td",D,[s.cart.total>s.cart.final_total?(o(),n("small",E,"折扣價：")):d("",!0),l(" "+a(e.final_total),1)])]))),128)):d("",!0)]),t("tfoot",null,[t("tr",null,[T,t("td",z,a(s.cart.total),1)]),s.cart.total>s.cart.final_total?(o(),n("tr",G,[H,t("td",J,a(s.cart.final_total),1)])):d("",!0)])]),t("div",K,[k(b)])],64)}const W=f(B,[["render",M]]);export{W as default};
