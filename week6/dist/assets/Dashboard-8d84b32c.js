import{_,c as p,a as o,b as n,w as c,d as e,q as k,k as m,f,r as i,o as u}from"./index-171a5a41.js";const{VITE_API:g}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"weekhomeworks",BASE_URL:"/Vue-Homeworks/week6/dist",MODE:"production",DEV:!1,PROD:!0},$={data(){return{checkLogin:!1}},methods:{userCheck(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)loginToken\s*=\s*([^;]*).*$)|^.*$/,"$1");s?(this.$http.defaults.headers.common.Authorization=`${s}`,this.$http.post(`${g}/api/user/check`).then(()=>{this.checkLogin=!0}).catch(t=>{t.response.status==401?alert("登入權限過期，請重新登入"):alert(t.response.data.message),this.$router.push("/login")})):(alert("您尚未登入"),this.$router.push("/login"))},logOut(){document.cookie="loginToken=;expires=;",this.$router.push("/login")}},mounted(){this.userCheck()}},v=o("h1",{class:"text-center"},"你現在在後台頁面",-1),w={id:"nav",class:"text-center"},x={class:"container"};function V(s,t,E,T,l,a){const r=i("router-link"),d=i("router-view");return u(),p("div",null,[v,o("div",w,[n(r,{to:"/"},{default:c(()=>[e("回到前台")]),_:1}),e(" | "),n(r,{to:"/admin/products"},{default:c(()=>[e("後台產品列表")]),_:1}),e(" | "),n(r,{to:"/admin/orders"},{default:c(()=>[e("後台訂單")]),_:1}),e(" | "),o("a",{href:"#",onClick:t[0]||(t[0]=k((...h)=>a.logOut&&a.logOut(...h),["prevent"]))},"登出")]),o("div",x,[l.checkLogin?(u(),m(d,{key:0})):f("",!0)])])}const A=_($,[["render",V]]);export{A as default};
