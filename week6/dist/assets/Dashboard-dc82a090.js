import{_ as p,c as _,a as c,b as r,w as n,d as e,u as k,q as m,h as f,r as i,o as u}from"./index-388b8486.js";const{VITE_API:g}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"weekhomeworks",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{checkLogin:!1}},methods:{userCheck(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)loginToken\s*=\s*([^;]*).*$)|^.*$/,"$1");o?(this.$http.defaults.headers.common.Authorization=`${o}`,this.$http.post(`${g}/api/user/check`).then(()=>{this.checkLogin=!0}).catch(t=>{alert(t.response.data.message),this.$router.push("/login")})):(alert("您尚未登入。"),this.$router.push("/login"))},logOut(){document.cookie="loginToken=;expires=;",this.$router.push("/login")}},mounted(){this.userCheck()}},v=c("h1",{class:"text-center"},"你現在在後台頁面",-1),x={id:"nav",class:"text-center"};function V(o,t,w,E,h,a){const s=i("router-link"),l=i("router-view");return u(),_("div",null,[v,c("div",x,[r(s,{to:"/"},{default:n(()=>[e("回到前台")]),_:1}),e(" | "),r(s,{to:"/admin/products"},{default:n(()=>[e("後台產品列表")]),_:1}),e(" | "),r(s,{to:"/admin/orders"},{default:n(()=>[e("後台訂單")]),_:1}),e(" | "),c("a",{href:"#",onClick:t[0]||(t[0]=k((...d)=>a.logOut&&a.logOut(...d),["prevent"]))},"登出")]),h.checkLogin?(u(),m(l,{key:0})):f("",!0)])}const C=p($,[["render",V]]);export{C as default};
