import{_ as h,c as f,a as s,b as o,w as b,r,o as w,s as u}from"./index-3b038c07.js";const{VITE_API:V}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"weekhomeworks",BASE_URL:"/Vue-Homeworks/week6/dist",MODE:"production",DEV:!1,PROD:!0},v={data(){return{user:{}}},methods:{login(){const a=`${V}admin/signin`;this.$http.post(a,this.user).then(e=>{const{token:i,expired:d}=e.data;document.cookie=`loginToken=${i};expires=${new Date(d)};`,this.$router.push("/admin/products")}).catch(e=>{alert(e.response.data.message)})}}},k={class:"container"},E={class:"mt-5"},g={class:"mt-4"},x={class:"col-md-6"},y=s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),P={class:"mb-2"},$=s("label",{for:"email",class:"sr-only"},"Email address",-1),I={class:"mb-2"},T=s("label",{for:"password",class:"sr-only"},"Password",-1),A=s("div",{class:"text-end mt-4"},[s("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"}," 登入 ")],-1);function B(a,e,i,d,t,p){const c=r("V-field"),m=r("ErrorMessage"),_=r("V-form");return w(),f("div",k,[s("div",E,[s("a",{class:"btn btn-link",onClick:e[0]||(e[0]=n=>a.$router.push("/"))},"回首頁")]),s("div",g,[o(_,{class:"row justify-content-center",onSubmit:p.login},{default:b(({errors:n})=>[s("div",x,[y,s("div",P,[$,o(c,{type:"email",id:"email",name:"email",placeholder:"Email address",modelValue:t.user.username,"onUpdate:modelValue":e[1]||(e[1]=l=>t.user.username=l),autofocus:"",class:u(["form-control",{"is-invalid":n.email}]),rules:"required|email"},null,8,["modelValue","class"]),o(m,{name:"email",class:"invalid-feedback"})]),s("div",I,[T,o(c,{type:"password",id:"password",name:"password",class:u(["form-control",["form-control",{"is-invalid":n.password}]]),modelValue:t.user.password,"onUpdate:modelValue":e[2]||(e[2]=l=>t.user.password=l),placeholder:"Password",rules:"required"},null,8,["modelValue","class"]),o(m,{name:"password",class:"invalid-feedback"})]),A])]),_:1},8,["onSubmit"])])])}const D=h(v,[["render",B]]);export{D as default};
